<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Title of the document</title>
		<script src="https://cdnjs.cloudflare.com/JSON/libs/handlebars.js/4.1.2/handlebars.min.js"></script>
	</head>
	<body>
		<h2>Handlebars templates to populate a table with an array of objects using Ajax</h2>
		
		<h3>array of people objects as a table</h3>
         <div id="peopleTable"></div>
	</body>


<!-- The script element is used to define the Handlebars template -->
<script type="text/x-handlebars-template" id="tableTemplate">
<table cellspacing='12'>
    <tr><th>Name</th><th>Major</th><th>Midterm</th><th>Final</th></tr>
    {{#each rows}}
      <tr>
          <td>{{name}}</td><td>{{state}}</td><td>{{age}}</td><td>{{flavor}}</td>
      </tr>
    {{/each}}
</table>

</script>
  

<script>
    var people = [
		{"Name":"Rosie","Major":"CIT","Midterm":88,"final":87},
		{"Name":"Bruce","Major":"Bus","Midterm":68,"Final":87},
		{"Name":"Carol","Major":"BUS","Midterm":75,"Final":87},
		{"Name":"David","Major":"CIT","Midterm":85,"Final":77},
		{"Name":"Ellen","Major":"CIT","Midterm":98,"Final":77},
		{"Name":"Frank","Major":"BUS","Midterm":53,"Final":61},
		{"name":"Grady","major":"BUS","midterm":93,"final":92}
		{"name":"Hanna","major":"BUS","midterm":88,"final":56}
		{"name":"Irene","major":"CIT","midterm":79,"final":64}
		{"name":"Jacky","major":"CIT","midterm":89,"final":80}
        {"name":"Karen","major":"CIT","midterm":85,"final":70}
		
		
		if (request.status == 200) {
              var templateText = document.getElementById('tableTemplate').innerHTML;   
              var compiledTemplateText = Handlebars.compile(templateText);         
              compiledHtml = compiledTemplateText({ rows: data })                  
              document.getElementById('peopleTable').innerHTML = compiledHtml; 	
          }
          else {
             document.querySelector('#peopleTable').innerHTML = "There was an error, or data not found";
          }
      }        

      request.send(null);    
 </script>
</html>